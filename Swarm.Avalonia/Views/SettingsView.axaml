<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Swarm.Avalonia.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Swarm.Avalonia.Views.SettingsView"
             x:DataType="vm:SettingsViewModel">

    <ScrollViewer>
        <StackPanel Margin="30" Spacing="24" MaxWidth="800" HorizontalAlignment="Left">
            <TextBlock Text="Settings" 
                       FontSize="28" 
                       FontWeight="SemiBold"
                       Foreground="{StaticResource TextPrimaryBrush}"/>

            <!-- General -->
            <Border Classes="card">
                <StackPanel Spacing="16">
                    <TextBlock Text="General" Classes="h2"/>
                    
                    <StackPanel Spacing="8">
                        <TextBlock Text="Device Name" Classes="label"/>
                        <TextBox Text="{Binding DeviceName}" Watermark="Enter device name"/>
                        <TextBlock Text="This name will be visible to other devices on the network."
                                   Classes="description"/>
                    </StackPanel>
                    
                    <CheckBox IsChecked="{Binding StartWithSystem}"
                              Content="Start Swarm when computer starts"/>
                </StackPanel>
            </Border>

            <!-- Sync -->
            <Border Classes="card">
                <StackPanel Spacing="16">
                    <TextBlock Text="Synchronization" Classes="h2"/>

                    <StackPanel Spacing="8">
                        <TextBlock Text="Sync Folder Location" Classes="label"/>
                        <Grid ColumnDefinitions="*,Auto">
                            <TextBox Text="{Binding SyncFolderPath}" IsReadOnly="True" Margin="0,0,8,0"/>
                            <Button Grid.Column="1" Command="{Binding BrowseSyncFolderCommand}" Content="Browse..."/>
                        </Grid>
                    </StackPanel>

                    <CheckBox IsChecked="{Binding PauseOnBattery}"
                              Content="Pause sync when on battery power"/>
                </StackPanel>
            </Border>

            <!-- Notifications -->
            <Border Classes="card">
                <StackPanel Spacing="16">
                    <TextBlock Text="Notifications" Classes="h2"/>
                    
                    <CheckBox IsChecked="{Binding ShowNotifications}"
                              Content="Show desktop notifications"/>
                </StackPanel>
            </Border>

            <!-- Actions -->
            <Button Command="{Binding SaveSettingsCommand}"
                    Content="Save Settings"
                    Classes="accent"
                    HorizontalAlignment="Right"/>
        </StackPanel>
    </ScrollViewer>

    <UserControl.Styles>
        <Style Selector="Border.card">
            <Setter Property="Background" Value="{StaticResource SurfaceBrush}"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="24"/>
        </Style>
        <Style Selector="TextBlock.h2">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>
        <Style Selector="TextBlock.label">
            <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
            <Setter Property="FontWeight" Value="Medium"/>
        </Style>
        <Style Selector="TextBlock.description">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="{StaticResource TextMutedBrush}"/>
        </Style>
    </UserControl.Styles>
</UserControl>
